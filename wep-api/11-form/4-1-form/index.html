<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
<button class="login">로그인</button>
<div class="black-bg">
    <div class="white-bg">
        <h4>로그인하세요</h4>

        <form action="success.html">
            <div class="my-3">
                <input type="text" class="form-control">
            </div>
            <div class="my-3">
                <input type="password" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">전송</button>
            <button type="button" class="btn btn-danger" id="close">닫기</button>
        </form>
    </div>
</div>

<script>
    const $login = document.querySelector('.login')
    const $modal = document.querySelector('.black-bg')
    const $close = document.getElementById('close')
    const [$id, $pw] = document.querySelectorAll('.form-control')
    const $form = document.querySelector('form')

    $login.addEventListener('click', ()=> {
        $modal.classList.toggle('show')
    })
    $close.addEventListener('click', ()=> {
        $modal.classList.remove('show')
    })

    $form.addEventListener('submit', (e)=> {


        if ($id.value === '') {
            alert('아이디 입력해주세요.')
            e.preventDefault();
            // 유효성 실패하면 다시 아이디 입력
            $id.focus();
            return;
        } else if (!/\S+@\S+\.\S+/.test($id.value)) {
            alert('이메일 형식이 아닙니다.')
            e.preventDefault();
            // 유효성 실패하면 다시 아이디 입력
            $id.focus();
            return;
        }

        if ($pw.value === '' ) {
            alert('비밀번호를 입력해주세요 ')
            e.preventDefault();
            // 유효성 실패하면 다시 비번 입력
            $pw.focus();
        } else if ($pw.value.length < 6) {
            alert('비밀번호를 6자리 이상 입력해주세요')
            e.preventDefault();
            // 유효성 실패하면 다시 비번 입력
            $pw.focus();
        } else {
            alert('로그인 성공')
            $form.submit();
        }
    })

</script>

</body>
</html>